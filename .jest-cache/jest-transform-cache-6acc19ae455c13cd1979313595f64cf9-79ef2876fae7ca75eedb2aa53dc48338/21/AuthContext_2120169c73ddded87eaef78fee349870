85b83cce5fb95a841f151eb6e005a17f
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AuthProvider = exports.AuthContext = void 0;
var _react = _interopRequireWildcard(require("react"));
var _api = _interopRequireDefault(require("../services/api"));
var _apiQuizzes = _interopRequireDefault(require("../services/apiQuizzes"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
const AuthContext = exports.AuthContext = /*#__PURE__*/(0, _react.createContext)();
const AuthProvider = ({
  children
}) => {
  const [user, setUser] = (0, _react.useState)(null);
  const [deleteMode, setDeleteMode] = (0, _react.useState)(false);
  const [quizzes, setQuizzes] = (0, _react.useState)([]);
  const [quizAttempt, setQuizAttempt] = (0, _react.useState)(false);
  const [isAuthenticated, setIsAuthenticated] = (0, _react.useState)(false);
  const [quizDeleteData, setQuizDeleteData] = (0, _react.useState)({
    quiz_id: '',
    questions: [],
    quiz_title: '',
    date_created: '',
    public: false,
    owner: 0
  });

  // Token management functions
  const getAccessToken = () => {
    return localStorage.getItem('zenithQuizMakerAccessToken');
  };
  const getRefreshToken = () => {
    return localStorage.getItem('zenithQuizMakerRefreshToken');
  };
  const setTokens = (access, refresh) => {
    localStorage.setItem('zenithQuizMakerAccessToken', access);
    localStorage.setItem('zenithQuizMakerRefreshToken', refresh);
  };
  const clearTokens = () => {
    localStorage.removeItem('zenithQuizMakerAccessToken');
    localStorage.removeItem('zenithQuizMakerRefreshToken');
    localStorage.removeItem('userData');
  };
  const isTokenExpired = token => {
    if (!token) return true;
    try {
      const payload = JSON.parse(atob(token.split('.')[1]));
      return payload.exp * 1000 < Date.now();
    } catch (error) {
      return true;
    }
  };

  // Check authentication status on app load
  (0, _react.useEffect)(() => {
    const checkAuthStatus = async () => {
      const accessToken = getAccessToken();
      const refreshToken = getRefreshToken();
      if (accessToken && !isTokenExpired(accessToken)) {
        setIsAuthenticated(true);
        const userData = localStorage.getItem('userData');
        if (userData) {
          setUser(JSON.parse(userData));
        }
      } else if (refreshToken) {
        // Try to refresh the token
        try {
          const response = await refreshToken(refreshToken);
          if (response.data) {
            setTokens(response.data.access, response.data.refresh);
            setIsAuthenticated(true);
            const userData = localStorage.getItem('userData');
            if (userData) {
              setUser(JSON.parse(userData));
            }
          }
        } catch (error) {
          // Refresh failed, clear tokens
          clearTokens();
          setIsAuthenticated(false);
          setUser(null);
        }
      }
    };
    checkAuthStatus();
  }, []);
  const logout = () => {
    clearTokens();
    setUser(null);
    setIsAuthenticated(false);
    // Optionally call logout endpoint to invalidate refresh token
    // API.post('api/users/logout/', { refresh: getRefreshToken() });
  };
  const resendVerification = async email => {
    try {
      const resend_verification_response = await _api.default.post('api/users/email/resend/', {
        email: email
      });
    } catch (err) {
      return err;
    }
  };
  const login = async (username, password) => {
    try {
      const login_response = await _api.default.post('api/users/login/', {
        username: username,
        password: password
      });
      console.log(login_response);

      // Store tokens securely
      setTokens(login_response.data.access, login_response.data.refresh);
      localStorage.setItem('userData', JSON.stringify(login_response.data.user_data));

      // Update authentication state
      setIsAuthenticated(true);
      setUser(login_response.data.user_data);
      return login_response;
    } catch (err) {
      console.log(err);
      return err;
    }
  };
  const refreshToken = async refresh_token => {
    try {
      const refresh_token_response = await _api.default.post('api/users/token/refresh/', {
        refresh: refresh_token
      });

      // Update stored tokens if refresh was successful
      if (refresh_token_response.data && refresh_token_response.data.access) {
        setTokens(refresh_token_response.data.access, refresh_token_response.data.refresh || refresh_token);
      }
      return refresh_token_response;
    } catch (err) {
      // If refresh fails, clear tokens and logout
      clearTokens();
      setIsAuthenticated(false);
      setUser(null);
      return err;
    }
  };
  const register = async data => {
    try {
      const register_response = await _api.default.post('dj-rest-auth/registration/', data);
      return register_response;
    } catch (error) {
      return error;
    }
  };
  const getUserData = async () => {
    try {
      const user_data_response = await _api.default.get('api/users/profile/');
      return user_data_response;
    } catch (err) {
      return err;
    }
  };
  const getAttemptsList = async () => {
    try {
      const attempts_data_response = await _apiQuizzes.default.get('quiz/attempts/');
      return attempts_data_response;
    } catch (err) {
      return err;
    }
  };
  const updateUserData = async userEditData => {
    try {
      const user_update_response = await _api.default.put('api/users/profile/', userEditData);
      return user_update_response;
    } catch (err) {
      return err;
    }
  };
  const createQuiz = async quizData => {
    try {
      const createquiz_response = await _apiQuizzes.default.post('quiz/', quizData);
      return createquiz_response;
    } catch (err) {
      return err;
    }
  };
  const updateQuiz = async (id, quizEditData) => {
    try {
      const quiz_update_response = await _apiQuizzes.default.put(`quiz/update/${id}/`, quizEditData);
      return quiz_update_response;
    } catch (err) {
      return err;
    }
  };
  const getQuizList = async () => {
    try {
      const getquizlist_response = await _apiQuizzes.default.get('quiz/');
      return getquizlist_response;
    } catch (err) {
      return err;
    }
  };
  const getQuiz = async (id, randomize = true) => {
    try {
      const getquiz_response = await _apiQuizzes.default.get(`quiz/${id}/`, {
        params: {
          randomize: randomize
        }
      });
      return getquiz_response;
    } catch (err) {
      return err;
    }
  };
  const getQuizSummary = async id => {
    try {
      const quiz_summary_response = await _apiQuizzes.default.get(`quiz/summary/${id}/`);
      return quiz_summary_response;
    } catch (err) {
      return err;
    }
  };
  const attemptQuiz = async id => {
    try {
      const quiz_attempt_response = await _apiQuizzes.default.post(`quiz/attempt/${id}/`);
      return quiz_attempt_response;
    } catch (err) {
      return err;
    }
  };
  const submitQuizAnswers = async (id, answers, time) => {
    try {
      const quiz_answers_submission_response = await _apiQuizzes.default.post(`quiz/submit/${id}/`, {
        answers: answers,
        time: time
      });
      return quiz_answers_submission_response;
    } catch (err) {
      return err;
    }
  };
  const deleteQuiz = async id => {
    try {
      const deletequiz_response = await _apiQuizzes.default.delete(`quiz/${id}/`);
      return deletequiz_response;
    } catch (err) {
      return err;
    }
  };
  const generateQuiz = async (topic, questionNumber) => {
    try {
      const response = await _apiQuizzes.default.post('quiz/generate/', {
        topic: topic,
        questionNumber: questionNumber
      });
      return response;
    } catch (err) {
      return err;
    }
  };
  return /*#__PURE__*/(0, _jsxRuntime.jsx)(AuthContext.Provider, {
    value: {
      user,
      isAuthenticated,
      login,
      logout,
      register,
      getUserData,
      updateUserData,
      refreshToken,
      getAccessToken,
      getRefreshToken,
      isTokenExpired,
      quizzes,
      setQuizzes,
      createQuiz,
      updateQuiz,
      generateQuiz,
      getQuizList,
      getQuiz,
      getQuizSummary,
      attemptQuiz,
      getAttemptsList,
      deleteMode,
      submitQuizAnswers,
      deleteQuiz,
      setDeleteMode,
      quizDeleteData,
      setQuizDeleteData
    },
    children: children
  });
};
exports.AuthProvider = AuthProvider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfYXBpIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9hcGlRdWl6emVzIiwiX2pzeFJ1bnRpbWUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBdXRoQ29udGV4dCIsImV4cG9ydHMiLCJjcmVhdGVDb250ZXh0IiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwic2V0VXNlciIsInVzZVN0YXRlIiwiZGVsZXRlTW9kZSIsInNldERlbGV0ZU1vZGUiLCJxdWl6emVzIiwic2V0UXVpenplcyIsInF1aXpBdHRlbXB0Iiwic2V0UXVpekF0dGVtcHQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJzZXRJc0F1dGhlbnRpY2F0ZWQiLCJxdWl6RGVsZXRlRGF0YSIsInNldFF1aXpEZWxldGVEYXRhIiwicXVpel9pZCIsInF1ZXN0aW9ucyIsInF1aXpfdGl0bGUiLCJkYXRlX2NyZWF0ZWQiLCJwdWJsaWMiLCJvd25lciIsImdldEFjY2Vzc1Rva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImdldFJlZnJlc2hUb2tlbiIsInNldFRva2VucyIsImFjY2VzcyIsInJlZnJlc2giLCJzZXRJdGVtIiwiY2xlYXJUb2tlbnMiLCJyZW1vdmVJdGVtIiwiaXNUb2tlbkV4cGlyZWQiLCJ0b2tlbiIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwic3BsaXQiLCJleHAiLCJEYXRlIiwibm93IiwiZXJyb3IiLCJ1c2VFZmZlY3QiLCJjaGVja0F1dGhTdGF0dXMiLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsInVzZXJEYXRhIiwicmVzcG9uc2UiLCJkYXRhIiwibG9nb3V0IiwicmVzZW5kVmVyaWZpY2F0aW9uIiwiZW1haWwiLCJyZXNlbmRfdmVyaWZpY2F0aW9uX3Jlc3BvbnNlIiwiQVBJIiwicG9zdCIsImVyciIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImxvZ2luX3Jlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsInN0cmluZ2lmeSIsInVzZXJfZGF0YSIsInJlZnJlc2hfdG9rZW4iLCJyZWZyZXNoX3Rva2VuX3Jlc3BvbnNlIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9yZXNwb25zZSIsImdldFVzZXJEYXRhIiwidXNlcl9kYXRhX3Jlc3BvbnNlIiwiZ2V0QXR0ZW1wdHNMaXN0IiwiYXR0ZW1wdHNfZGF0YV9yZXNwb25zZSIsIkFQSV9RVUlaWkVTIiwidXBkYXRlVXNlckRhdGEiLCJ1c2VyRWRpdERhdGEiLCJ1c2VyX3VwZGF0ZV9yZXNwb25zZSIsInB1dCIsImNyZWF0ZVF1aXoiLCJxdWl6RGF0YSIsImNyZWF0ZXF1aXpfcmVzcG9uc2UiLCJ1cGRhdGVRdWl6IiwiaWQiLCJxdWl6RWRpdERhdGEiLCJxdWl6X3VwZGF0ZV9yZXNwb25zZSIsImdldFF1aXpMaXN0IiwiZ2V0cXVpemxpc3RfcmVzcG9uc2UiLCJnZXRRdWl6IiwicmFuZG9taXplIiwiZ2V0cXVpel9yZXNwb25zZSIsInBhcmFtcyIsImdldFF1aXpTdW1tYXJ5IiwicXVpel9zdW1tYXJ5X3Jlc3BvbnNlIiwiYXR0ZW1wdFF1aXoiLCJxdWl6X2F0dGVtcHRfcmVzcG9uc2UiLCJzdWJtaXRRdWl6QW5zd2VycyIsImFuc3dlcnMiLCJ0aW1lIiwicXVpel9hbnN3ZXJzX3N1Ym1pc3Npb25fcmVzcG9uc2UiLCJkZWxldGVRdWl6IiwiZGVsZXRlcXVpel9yZXNwb25zZSIsImRlbGV0ZSIsImdlbmVyYXRlUXVpeiIsInRvcGljIiwicXVlc3Rpb25OdW1iZXIiLCJqc3giLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZXMiOlsiQXV0aENvbnRleHQuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEFQSSBmcm9tICcuLi9zZXJ2aWNlcy9hcGknO1xuaW1wb3J0IEFQSV9RVUlaWkVTIGZyb20gJy4uL3NlcnZpY2VzL2FwaVF1aXp6ZXMnO1xuXG5leHBvcnQgY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0KCk7XG5cbmV4cG9ydCBjb25zdCBBdXRoUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG5cdGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xuXHRjb25zdCBbZGVsZXRlTW9kZSwgc2V0RGVsZXRlTW9kZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFtxdWl6emVzLCBzZXRRdWl6emVzXSA9IHVzZVN0YXRlKFtdKTtcblx0Y29uc3QgW3F1aXpBdHRlbXB0LCBzZXRRdWl6QXR0ZW1wdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFtpc0F1dGhlbnRpY2F0ZWQsIHNldElzQXV0aGVudGljYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFtxdWl6RGVsZXRlRGF0YSwgc2V0UXVpekRlbGV0ZURhdGFdID0gdXNlU3RhdGUoe1xuXHRcdHF1aXpfaWQ6ICcnLFxuXHRcdHF1ZXN0aW9uczogW10sXG5cdFx0cXVpel90aXRsZTogJycsXG5cdFx0ZGF0ZV9jcmVhdGVkOiAnJyxcblx0XHRwdWJsaWM6IGZhbHNlLFxuXHRcdG93bmVyOiAwXG5cdH0pO1xuXG5cdC8vIFRva2VuIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG5cdGNvbnN0IGdldEFjY2Vzc1Rva2VuID0gKCkgPT4ge1xuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnemVuaXRoUXVpek1ha2VyQWNjZXNzVG9rZW4nKTtcblx0fTtcblxuXHRjb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoKSA9PiB7XG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd6ZW5pdGhRdWl6TWFrZXJSZWZyZXNoVG9rZW4nKTtcblx0fTtcblxuXHRjb25zdCBzZXRUb2tlbnMgPSAoYWNjZXNzLCByZWZyZXNoKSA9PiB7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3plbml0aFF1aXpNYWtlckFjY2Vzc1Rva2VuJywgYWNjZXNzKTtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnemVuaXRoUXVpek1ha2VyUmVmcmVzaFRva2VuJywgcmVmcmVzaCk7XG5cdH07XG5cblx0Y29uc3QgY2xlYXJUb2tlbnMgPSAoKSA9PiB7XG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3plbml0aFF1aXpNYWtlckFjY2Vzc1Rva2VuJyk7XG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3plbml0aFF1aXpNYWtlclJlZnJlc2hUb2tlbicpO1xuXHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyRGF0YScpO1xuXHR9O1xuXG5cdGNvbnN0IGlzVG9rZW5FeHBpcmVkID0gKHRva2VuKSA9PiB7XG5cdFx0aWYgKCF0b2tlbikgcmV0dXJuIHRydWU7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKGF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpO1xuXHRcdFx0cmV0dXJuIHBheWxvYWQuZXhwICogMTAwMCA8IERhdGUubm93KCk7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fTtcblxuXHQvLyBDaGVjayBhdXRoZW50aWNhdGlvbiBzdGF0dXMgb24gYXBwIGxvYWRcblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRjb25zdCBjaGVja0F1dGhTdGF0dXMgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBhY2Nlc3NUb2tlbiA9IGdldEFjY2Vzc1Rva2VuKCk7XG5cdFx0XHRjb25zdCByZWZyZXNoVG9rZW4gPSBnZXRSZWZyZXNoVG9rZW4oKTtcblxuXHRcdFx0aWYgKGFjY2Vzc1Rva2VuICYmICFpc1Rva2VuRXhwaXJlZChhY2Nlc3NUb2tlbikpIHtcblx0XHRcdFx0c2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xuXHRcdFx0XHRjb25zdCB1c2VyRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpO1xuXHRcdFx0XHRpZiAodXNlckRhdGEpIHtcblx0XHRcdFx0XHRzZXRVc2VyKEpTT04ucGFyc2UodXNlckRhdGEpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChyZWZyZXNoVG9rZW4pIHtcblx0XHRcdFx0Ly8gVHJ5IHRvIHJlZnJlc2ggdGhlIHRva2VuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZWZyZXNoVG9rZW4ocmVmcmVzaFRva2VuKTtcblx0XHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YSkge1xuXHRcdFx0XHRcdFx0c2V0VG9rZW5zKHJlc3BvbnNlLmRhdGEuYWNjZXNzLCByZXNwb25zZS5kYXRhLnJlZnJlc2gpO1xuXHRcdFx0XHRcdFx0c2V0SXNBdXRoZW50aWNhdGVkKHRydWUpO1xuXHRcdFx0XHRcdFx0Y29uc3QgdXNlckRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckRhdGEnKTtcblx0XHRcdFx0XHRcdGlmICh1c2VyRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRzZXRVc2VyKEpTT04ucGFyc2UodXNlckRhdGEpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0Ly8gUmVmcmVzaCBmYWlsZWQsIGNsZWFyIHRva2Vuc1xuXHRcdFx0XHRcdGNsZWFyVG9rZW5zKCk7XG5cdFx0XHRcdFx0c2V0SXNBdXRoZW50aWNhdGVkKGZhbHNlKTtcblx0XHRcdFx0XHRzZXRVc2VyKG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGNoZWNrQXV0aFN0YXR1cygpO1xuXHR9LCBbXSk7XG5cblx0Y29uc3QgbG9nb3V0ID0gKCkgPT4ge1xuXHRcdGNsZWFyVG9rZW5zKCk7XG5cdFx0c2V0VXNlcihudWxsKTtcblx0XHRzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xuXHRcdC8vIE9wdGlvbmFsbHkgY2FsbCBsb2dvdXQgZW5kcG9pbnQgdG8gaW52YWxpZGF0ZSByZWZyZXNoIHRva2VuXG5cdFx0Ly8gQVBJLnBvc3QoJ2FwaS91c2Vycy9sb2dvdXQvJywgeyByZWZyZXNoOiBnZXRSZWZyZXNoVG9rZW4oKSB9KTtcblx0fTtcblxuXHRjb25zdCByZXNlbmRWZXJpZmljYXRpb24gPSBhc3luYyAoZW1haWwpID0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcmVzZW5kX3ZlcmlmaWNhdGlvbl9yZXNwb25zZSA9IGF3YWl0IEFQSS5wb3N0KCdhcGkvdXNlcnMvZW1haWwvcmVzZW5kLycsIHtcblx0XHRcdFx0ZW1haWw6IGVtYWlsXG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHJldHVybiBlcnI7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGxvZ2luID0gYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBsb2dpbl9yZXNwb25zZSA9IGF3YWl0IEFQSS5wb3N0KCdhcGkvdXNlcnMvbG9naW4vJywge1xuXHRcdFx0XHR1c2VybmFtZTogdXNlcm5hbWUsXG5cdFx0XHRcdHBhc3N3b3JkOiBwYXNzd29yZFxuXHRcdFx0fSk7XG5cdFx0XHRjb25zb2xlLmxvZyhsb2dpbl9yZXNwb25zZSk7XG5cblx0XHRcdC8vIFN0b3JlIHRva2VucyBzZWN1cmVseVxuXHRcdFx0c2V0VG9rZW5zKGxvZ2luX3Jlc3BvbnNlLmRhdGEuYWNjZXNzLCBsb2dpbl9yZXNwb25zZS5kYXRhLnJlZnJlc2gpO1xuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkobG9naW5fcmVzcG9uc2UuZGF0YS51c2VyX2RhdGEpKTtcblxuXHRcdFx0Ly8gVXBkYXRlIGF1dGhlbnRpY2F0aW9uIHN0YXRlXG5cdFx0XHRzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XG5cdFx0XHRzZXRVc2VyKGxvZ2luX3Jlc3BvbnNlLmRhdGEudXNlcl9kYXRhKTtcblxuXHRcdFx0cmV0dXJuIGxvZ2luX3Jlc3BvbnNlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHRcdHJldHVybiBlcnI7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IHJlZnJlc2hUb2tlbiA9IGFzeW5jIChyZWZyZXNoX3Rva2VuKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlZnJlc2hfdG9rZW5fcmVzcG9uc2UgPSBhd2FpdCBBUEkucG9zdCgnYXBpL3VzZXJzL3Rva2VuL3JlZnJlc2gvJywge1xuXHRcdFx0XHRyZWZyZXNoOiByZWZyZXNoX3Rva2VuXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gVXBkYXRlIHN0b3JlZCB0b2tlbnMgaWYgcmVmcmVzaCB3YXMgc3VjY2Vzc2Z1bFxuXHRcdFx0aWYgKHJlZnJlc2hfdG9rZW5fcmVzcG9uc2UuZGF0YSAmJiByZWZyZXNoX3Rva2VuX3Jlc3BvbnNlLmRhdGEuYWNjZXNzKSB7XG5cdFx0XHRcdHNldFRva2Vucyhcblx0XHRcdFx0XHRyZWZyZXNoX3Rva2VuX3Jlc3BvbnNlLmRhdGEuYWNjZXNzLFxuXHRcdFx0XHRcdHJlZnJlc2hfdG9rZW5fcmVzcG9uc2UuZGF0YS5yZWZyZXNoIHx8IHJlZnJlc2hfdG9rZW5cblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlZnJlc2hfdG9rZW5fcmVzcG9uc2U7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHQvLyBJZiByZWZyZXNoIGZhaWxzLCBjbGVhciB0b2tlbnMgYW5kIGxvZ291dFxuXHRcdFx0Y2xlYXJUb2tlbnMoKTtcblx0XHRcdHNldElzQXV0aGVudGljYXRlZChmYWxzZSk7XG5cdFx0XHRzZXRVc2VyKG51bGwpO1xuXHRcdFx0cmV0dXJuIGVycjtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgcmVnaXN0ZXIgPSBhc3luYyAoZGF0YSkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZWdpc3Rlcl9yZXNwb25zZSA9IGF3YWl0IEFQSS5wb3N0KCdkai1yZXN0LWF1dGgvcmVnaXN0cmF0aW9uLycsIGRhdGEpO1xuXHRcdFx0cmV0dXJuIHJlZ2lzdGVyX3Jlc3BvbnNlO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGdldFVzZXJEYXRhID0gYXN5bmMgKCkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCB1c2VyX2RhdGFfcmVzcG9uc2UgPSBhd2FpdCBBUEkuZ2V0KCdhcGkvdXNlcnMvcHJvZmlsZS8nKTtcblx0XHRcdHJldHVybiB1c2VyX2RhdGFfcmVzcG9uc2U7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRyZXR1cm4gZXJyO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBnZXRBdHRlbXB0c0xpc3QgPSBhc3luYyAoKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGF0dGVtcHRzX2RhdGFfcmVzcG9uc2UgPSBhd2FpdCBBUElfUVVJWlpFUy5nZXQoJ3F1aXovYXR0ZW1wdHMvJyk7XG5cdFx0XHRyZXR1cm4gYXR0ZW1wdHNfZGF0YV9yZXNwb25zZTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHJldHVybiBlcnI7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IHVwZGF0ZVVzZXJEYXRhID0gYXN5bmMgKHVzZXJFZGl0RGF0YSkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCB1c2VyX3VwZGF0ZV9yZXNwb25zZSA9IGF3YWl0IEFQSS5wdXQoJ2FwaS91c2Vycy9wcm9maWxlLycsIHVzZXJFZGl0RGF0YSk7XG5cdFx0XHRyZXR1cm4gdXNlcl91cGRhdGVfcmVzcG9uc2U7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRyZXR1cm4gZXJyO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBjcmVhdGVRdWl6ID0gYXN5bmMgKHF1aXpEYXRhKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGNyZWF0ZXF1aXpfcmVzcG9uc2UgPSBhd2FpdCBBUElfUVVJWlpFUy5wb3N0KCdxdWl6LycsIHF1aXpEYXRhKTtcblx0XHRcdHJldHVybiBjcmVhdGVxdWl6X3Jlc3BvbnNlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cmV0dXJuIGVycjtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgdXBkYXRlUXVpeiA9IGFzeW5jIChpZCwgcXVpekVkaXREYXRhKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHF1aXpfdXBkYXRlX3Jlc3BvbnNlID0gYXdhaXQgQVBJX1FVSVpaRVMucHV0KGBxdWl6L3VwZGF0ZS8ke2lkfS9gLCBxdWl6RWRpdERhdGEpO1xuXHRcdFx0cmV0dXJuIHF1aXpfdXBkYXRlX3Jlc3BvbnNlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cmV0dXJuIGVycjtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgZ2V0UXVpekxpc3QgPSBhc3luYyAoKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGdldHF1aXpsaXN0X3Jlc3BvbnNlID0gYXdhaXQgQVBJX1FVSVpaRVMuZ2V0KCdxdWl6LycpO1xuXHRcdFx0cmV0dXJuIGdldHF1aXpsaXN0X3Jlc3BvbnNlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cmV0dXJuIGVycjtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgZ2V0UXVpeiA9IGFzeW5jIChpZCwgcmFuZG9taXplID0gdHJ1ZSkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBnZXRxdWl6X3Jlc3BvbnNlID0gYXdhaXQgQVBJX1FVSVpaRVMuZ2V0KGBxdWl6LyR7aWR9L2AsIHtcblx0XHRcdFx0cGFyYW1zOiB7XG5cdFx0XHRcdFx0cmFuZG9taXplOiByYW5kb21pemVcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gZ2V0cXVpel9yZXNwb25zZTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHJldHVybiBlcnI7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGdldFF1aXpTdW1tYXJ5ID0gYXN5bmMgKGlkKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHF1aXpfc3VtbWFyeV9yZXNwb25zZSA9IGF3YWl0IEFQSV9RVUlaWkVTLmdldChgcXVpei9zdW1tYXJ5LyR7aWR9L2ApO1xuXHRcdFx0cmV0dXJuIHF1aXpfc3VtbWFyeV9yZXNwb25zZTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHJldHVybiBlcnI7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGF0dGVtcHRRdWl6ID0gYXN5bmMgKGlkKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHF1aXpfYXR0ZW1wdF9yZXNwb25zZSA9IGF3YWl0IEFQSV9RVUlaWkVTLnBvc3QoYHF1aXovYXR0ZW1wdC8ke2lkfS9gKTtcblx0XHRcdHJldHVybiBxdWl6X2F0dGVtcHRfcmVzcG9uc2U7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRyZXR1cm4gZXJyO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBzdWJtaXRRdWl6QW5zd2VycyA9IGFzeW5jIChpZCwgYW5zd2VycywgdGltZSkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBxdWl6X2Fuc3dlcnNfc3VibWlzc2lvbl9yZXNwb25zZSA9IGF3YWl0IEFQSV9RVUlaWkVTLnBvc3QoYHF1aXovc3VibWl0LyR7aWR9L2AsIHtcblx0XHRcdFx0YW5zd2VyczogYW5zd2Vycyxcblx0XHRcdFx0dGltZTogdGltZVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcXVpel9hbnN3ZXJzX3N1Ym1pc3Npb25fcmVzcG9uc2U7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRyZXR1cm4gZXJyO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBkZWxldGVRdWl6ID0gYXN5bmMgKGlkKSA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGRlbGV0ZXF1aXpfcmVzcG9uc2UgPSBhd2FpdCBBUElfUVVJWlpFUy5kZWxldGUoYHF1aXovJHtpZH0vYCk7XG5cdFx0XHRyZXR1cm4gZGVsZXRlcXVpel9yZXNwb25zZTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHJldHVybiBlcnI7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGdlbmVyYXRlUXVpeiA9IGFzeW5jICh0b3BpYywgcXVlc3Rpb25OdW1iZXIpID0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBUElfUVVJWlpFUy5wb3N0KCdxdWl6L2dlbmVyYXRlLycsIHtcblx0XHRcdFx0dG9waWM6IHRvcGljLFxuXHRcdFx0XHRxdWVzdGlvbk51bWJlcjogcXVlc3Rpb25OdW1iZXJcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHJlc3BvbnNlO1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0cmV0dXJuIGVycjtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIChcblx0XHQ8QXV0aENvbnRleHQuUHJvdmlkZXJcblx0XHRcdHZhbHVlPXt7XG5cdFx0XHRcdHVzZXIsXG5cdFx0XHRcdGlzQXV0aGVudGljYXRlZCxcblx0XHRcdFx0bG9naW4sXG5cdFx0XHRcdGxvZ291dCxcblx0XHRcdFx0cmVnaXN0ZXIsXG5cdFx0XHRcdGdldFVzZXJEYXRhLFxuXHRcdFx0XHR1cGRhdGVVc2VyRGF0YSxcblx0XHRcdFx0cmVmcmVzaFRva2VuLFxuXHRcdFx0XHRnZXRBY2Nlc3NUb2tlbixcblx0XHRcdFx0Z2V0UmVmcmVzaFRva2VuLFxuXHRcdFx0XHRpc1Rva2VuRXhwaXJlZCxcblx0XHRcdFx0cXVpenplcyxcblx0XHRcdFx0c2V0UXVpenplcyxcblx0XHRcdFx0Y3JlYXRlUXVpeixcblx0XHRcdFx0dXBkYXRlUXVpeixcblx0XHRcdFx0Z2VuZXJhdGVRdWl6LFxuXHRcdFx0XHRnZXRRdWl6TGlzdCxcblx0XHRcdFx0Z2V0UXVpeixcblx0XHRcdFx0Z2V0UXVpelN1bW1hcnksXG5cdFx0XHRcdGF0dGVtcHRRdWl6LFxuXHRcdFx0XHRnZXRBdHRlbXB0c0xpc3QsXG5cdFx0XHRcdGRlbGV0ZU1vZGUsXG5cdFx0XHRcdHN1Ym1pdFF1aXpBbnN3ZXJzLFxuXHRcdFx0XHRkZWxldGVRdWl6LFxuXHRcdFx0XHRzZXREZWxldGVNb2RlLFxuXHRcdFx0XHRxdWl6RGVsZXRlRGF0YSxcblx0XHRcdFx0c2V0UXVpekRlbGV0ZURhdGFcblx0XHRcdH19XG5cdFx0PlxuXHRcdFx0e2NoaWxkcmVufVxuXHRcdDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XG5cdCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsSUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBRCxzQkFBQSxDQUFBRixPQUFBO0FBQWlELElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUFBLFNBQUFLLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFQLHdCQUFBTyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElB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