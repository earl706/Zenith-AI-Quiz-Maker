344c41c3d05398db53044a83bae7b704
"use strict";

// Mock the API services
_getJestObj().mock('../services/api');
_getJestObj().mock('../services/apiQuizzes');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _AuthContext = require("../context/AuthContext");
var _api = _interopRequireDefault(require("../services/api"));
var _apiQuizzes = _interopRequireDefault(require("../services/apiQuizzes"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const mockAPI = _api.default;
const mockAPIQuizzes = _apiQuizzes.default;

// Test wrapper component
const TestComponent = ({
  children
}) => {
  return /*#__PURE__*/(0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
    children: children
  });
};

// Custom hook to access context
const useAuth = () => {
  const context = _react.default.useContext(_AuthContext.AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};
describe('AuthContext', () => {
  beforeEach(() => {
    jest.clearAllMocks();
    localStorage.clear();
  });
  describe('Token Management', () => {
    test('should store tokens in localStorage after login', async () => {
      const mockLoginResponse = {
        data: {
          access: 'mock-access-token',
          refresh: 'mock-refresh-token',
          user_data: {
            id: 1,
            username: 'testuser'
          }
        }
      };
      mockAPI.post.mockResolvedValue(mockLoginResponse);
      const TestLogin = () => {
        const {
          login
        } = useAuth();
        const handleLogin = async () => {
          await login('testuser', 'password');
        };
        return /*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
          onClick: handleLogin,
          children: "Login"
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestLogin, {})
      }));
      _react2.fireEvent.click(_react2.screen.getByText('Login'));
      await (0, _react2.waitFor)(() => {
        expect(localStorage.getItem('zenithQuizMakerAccessToken')).toBe('mock-access-token');
        expect(localStorage.getItem('zenithQuizMakerRefreshToken')).toBe('mock-refresh-token');
        expect(localStorage.getItem('userData')).toBe(JSON.stringify({
          id: 1,
          username: 'testuser'
        }));
      });
    });
    test('should clear tokens on logout', () => {
      // Set up initial tokens
      localStorage.setItem('zenithQuizMakerAccessToken', 'test-token');
      localStorage.setItem('zenithQuizMakerRefreshToken', 'test-refresh');
      localStorage.setItem('userData', '{"id": 1}');
      const TestLogout = () => {
        const {
          logout
        } = useAuth();
        return /*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
          onClick: logout,
          children: "Logout"
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestLogout, {})
      }));
      _react2.fireEvent.click(_react2.screen.getByText('Logout'));
      expect(localStorage.getItem('zenithQuizMakerAccessToken')).toBeNull();
      expect(localStorage.getItem('zenithQuizMakerRefreshToken')).toBeNull();
      expect(localStorage.getItem('userData')).toBeNull();
    });
    test('should check if token is expired', () => {
      const TestTokenCheck = () => {
        const {
          isTokenExpired
        } = useAuth();

        // Create a token that expires in the past
        const expiredToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE2MzQ1Njc4NzF9.signature';
        return /*#__PURE__*/(0, _jsxRuntime.jsx)("div", {
          children: /*#__PURE__*/(0, _jsxRuntime.jsx)("span", {
            "data-testid": "expired",
            children: isTokenExpired(expiredToken).toString()
          })
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestTokenCheck, {})
      }));
      expect(_react2.screen.getByTestId('expired').textContent).toBe('true');
    });
  });
  describe('API Calls', () => {
    test('should call login API with correct parameters', async () => {
      const mockLoginResponse = {
        data: {
          access: 'mock-access-token',
          refresh: 'mock-refresh-token',
          user_data: {
            id: 1,
            username: 'testuser'
          }
        }
      };
      mockAPI.post.mockResolvedValue(mockLoginResponse);
      const TestLogin = () => {
        const {
          login
        } = useAuth();
        const handleLogin = async () => {
          await login('testuser', 'password');
        };
        return /*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
          onClick: handleLogin,
          children: "Login"
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestLogin, {})
      }));
      _react2.fireEvent.click(_react2.screen.getByText('Login'));
      await (0, _react2.waitFor)(() => {
        expect(mockAPI.post).toHaveBeenCalledWith('api/users/login/', {
          username: 'testuser',
          password: 'password'
        });
      });
    });
    test('should call createQuiz API with correct data', async () => {
      const mockCreateResponse = {
        data: {
          quiz: {
            quiz_id: 1,
            quiz_title: 'Test Quiz'
          }
        }
      };
      mockAPIQuizzes.post.mockResolvedValue(mockCreateResponse);
      const TestCreateQuiz = () => {
        const {
          createQuiz
        } = useAuth();
        const handleCreate = async () => {
          const quizData = {
            quiz_title: 'Test Quiz',
            public: false,
            questions: []
          };
          await createQuiz(quizData);
        };
        return /*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
          onClick: handleCreate,
          children: "Create Quiz"
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestCreateQuiz, {})
      }));
      _react2.fireEvent.click(_react2.screen.getByText('Create Quiz'));
      await (0, _react2.waitFor)(() => {
        expect(mockAPIQuizzes.post).toHaveBeenCalledWith('quiz/', {
          quiz_title: 'Test Quiz',
          public: false,
          questions: []
        });
      });
    });
    test('should call updateQuiz API with correct data', async () => {
      const mockUpdateResponse = {
        data: {
          quiz: {
            quiz_id: 1,
            quiz_title: 'Updated Quiz'
          }
        }
      };
      mockAPIQuizzes.put.mockResolvedValue(mockUpdateResponse);
      const TestUpdateQuiz = () => {
        const {
          updateQuiz
        } = useAuth();
        const handleUpdate = async () => {
          const quizData = {
            quiz_title: 'Updated Quiz',
            public: true,
            questions: []
          };
          await updateQuiz(1, quizData);
        };
        return /*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
          onClick: handleUpdate,
          children: "Update Quiz"
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestUpdateQuiz, {})
      }));
      _react2.fireEvent.click(_react2.screen.getByText('Update Quiz'));
      await (0, _react2.waitFor)(() => {
        expect(mockAPIQuizzes.put).toHaveBeenCalledWith('quiz/update/1/', {
          quiz_title: 'Updated Quiz',
          public: true,
          questions: []
        });
      });
    });
  });
  describe('Error Handling', () => {
    test('should handle login errors gracefully', async () => {
      const mockError = new Error('Invalid credentials');
      mockAPI.post.mockRejectedValue(mockError);
      const TestLoginError = () => {
        const {
          login
        } = useAuth();
        const [error, setError] = _react.default.useState(null);
        const handleLogin = async () => {
          try {
            await login('wronguser', 'wrongpass');
          } catch (err) {
            setError(err.message);
          }
        };
        return /*#__PURE__*/(0, _jsxRuntime.jsxs)("div", {
          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
            onClick: handleLogin,
            children: "Login"
          }), error && /*#__PURE__*/(0, _jsxRuntime.jsx)("span", {
            "data-testid": "error",
            children: error
          })]
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestLoginError, {})
      }));
      _react2.fireEvent.click(_react2.screen.getByText('Login'));
      await (0, _react2.waitFor)(() => {
        expect(_react2.screen.getByTestId('error').textContent).toBe('Invalid credentials');
      });
    });
    test('should handle API errors in quiz operations', async () => {
      const mockError = new Error('Network error');
      mockAPIQuizzes.post.mockRejectedValue(mockError);
      const TestCreateError = () => {
        const {
          createQuiz
        } = useAuth();
        const [error, setError] = _react.default.useState(null);
        const handleCreate = async () => {
          try {
            await createQuiz({});
          } catch (err) {
            setError(err.message);
          }
        };
        return /*#__PURE__*/(0, _jsxRuntime.jsxs)("div", {
          children: [/*#__PURE__*/(0, _jsxRuntime.jsx)("button", {
            onClick: handleCreate,
            children: "Create"
          }), error && /*#__PURE__*/(0, _jsxRuntime.jsx)("span", {
            "data-testid": "error",
            children: error
          })]
        });
      };
      (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(TestComponent, {
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(TestCreateError, {})
      }));
      _react2.fireEvent.click(_react2.screen.getByText('Create'));
      await (0, _react2.waitFor)(() => {
        expect(_react2.screen.getByTestId('error').textContent).toBe('Network error');
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfQXV0aENvbnRleHQiLCJfYXBpIiwiX2FwaVF1aXp6ZXMiLCJfanN4UnVudGltZSIsImplc3QiLCJtb2NrQVBJIiwiQVBJIiwibW9ja0FQSVF1aXp6ZXMiLCJBUElfUVVJWlpFUyIsIlRlc3RDb21wb25lbnQiLCJjaGlsZHJlbiIsImpzeCIsIkF1dGhQcm92aWRlciIsInVzZUF1dGgiLCJjb250ZXh0IiwiUmVhY3QiLCJ1c2VDb250ZXh0IiwiQXV0aENvbnRleHQiLCJFcnJvciIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJsb2NhbFN0b3JhZ2UiLCJjbGVhciIsInRlc3QiLCJtb2NrTG9naW5SZXNwb25zZSIsImRhdGEiLCJhY2Nlc3MiLCJyZWZyZXNoIiwidXNlcl9kYXRhIiwiaWQiLCJ1c2VybmFtZSIsInBvc3QiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIlRlc3RMb2dpbiIsImxvZ2luIiwiaGFuZGxlTG9naW4iLCJvbkNsaWNrIiwicmVuZGVyIiwiZmlyZUV2ZW50IiwiY2xpY2siLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ3YWl0Rm9yIiwiZXhwZWN0IiwiZ2V0SXRlbSIsInRvQmUiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsIlRlc3RMb2dvdXQiLCJsb2dvdXQiLCJ0b0JlTnVsbCIsIlRlc3RUb2tlbkNoZWNrIiwiaXNUb2tlbkV4cGlyZWQiLCJleHBpcmVkVG9rZW4iLCJ0b1N0cmluZyIsImdldEJ5VGVzdElkIiwidGV4dENvbnRlbnQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInBhc3N3b3JkIiwibW9ja0NyZWF0ZVJlc3BvbnNlIiwicXVpeiIsInF1aXpfaWQiLCJxdWl6X3RpdGxlIiwiVGVzdENyZWF0ZVF1aXoiLCJjcmVhdGVRdWl6IiwiaGFuZGxlQ3JlYXRlIiwicXVpekRhdGEiLCJwdWJsaWMiLCJxdWVzdGlvbnMiLCJtb2NrVXBkYXRlUmVzcG9uc2UiLCJwdXQiLCJUZXN0VXBkYXRlUXVpeiIsInVwZGF0ZVF1aXoiLCJoYW5kbGVVcGRhdGUiLCJtb2NrRXJyb3IiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIlRlc3RMb2dpbkVycm9yIiwiZXJyb3IiLCJzZXRFcnJvciIsInVzZVN0YXRlIiwiZXJyIiwibWVzc2FnZSIsImpzeHMiLCJUZXN0Q3JlYXRlRXJyb3IiXSwic291cmNlcyI6WyJBdXRoQ29udGV4dC50ZXN0LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyLCBBdXRoQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvQXV0aENvbnRleHQnO1xuaW1wb3J0IEFQSSBmcm9tICcuLi9zZXJ2aWNlcy9hcGknO1xuaW1wb3J0IEFQSV9RVUlaWkVTIGZyb20gJy4uL3NlcnZpY2VzL2FwaVF1aXp6ZXMnO1xuXG4vLyBNb2NrIHRoZSBBUEkgc2VydmljZXNcbmplc3QubW9jaygnLi4vc2VydmljZXMvYXBpJyk7XG5qZXN0Lm1vY2soJy4uL3NlcnZpY2VzL2FwaVF1aXp6ZXMnKTtcblxuY29uc3QgbW9ja0FQSSA9IEFQSTtcbmNvbnN0IG1vY2tBUElRdWl6emVzID0gQVBJX1FVSVpaRVM7XG5cbi8vIFRlc3Qgd3JhcHBlciBjb21wb25lbnRcbmNvbnN0IFRlc3RDb21wb25lbnQgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG5cdHJldHVybiA8QXV0aFByb3ZpZGVyPntjaGlsZHJlbn08L0F1dGhQcm92aWRlcj47XG59O1xuXG4vLyBDdXN0b20gaG9vayB0byBhY2Nlc3MgY29udGV4dFxuY29uc3QgdXNlQXV0aCA9ICgpID0+IHtcblx0Y29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuXHRpZiAoIWNvbnRleHQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcblx0fVxuXHRyZXR1cm4gY29udGV4dDtcbn07XG5cbmRlc2NyaWJlKCdBdXRoQ29udGV4dCcsICgpID0+IHtcblx0YmVmb3JlRWFjaCgoKSA9PiB7XG5cdFx0amVzdC5jbGVhckFsbE1vY2tzKCk7XG5cdFx0bG9jYWxTdG9yYWdlLmNsZWFyKCk7XG5cdH0pO1xuXG5cdGRlc2NyaWJlKCdUb2tlbiBNYW5hZ2VtZW50JywgKCkgPT4ge1xuXHRcdHRlc3QoJ3Nob3VsZCBzdG9yZSB0b2tlbnMgaW4gbG9jYWxTdG9yYWdlIGFmdGVyIGxvZ2luJywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgbW9ja0xvZ2luUmVzcG9uc2UgPSB7XG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRhY2Nlc3M6ICdtb2NrLWFjY2Vzcy10b2tlbicsXG5cdFx0XHRcdFx0cmVmcmVzaDogJ21vY2stcmVmcmVzaC10b2tlbicsXG5cdFx0XHRcdFx0dXNlcl9kYXRhOiB7IGlkOiAxLCB1c2VybmFtZTogJ3Rlc3R1c2VyJyB9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdG1vY2tBUEkucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrTG9naW5SZXNwb25zZSk7XG5cblx0XHRcdGNvbnN0IFRlc3RMb2dpbiA9ICgpID0+IHtcblx0XHRcdFx0Y29uc3QgeyBsb2dpbiB9ID0gdXNlQXV0aCgpO1xuXG5cdFx0XHRcdGNvbnN0IGhhbmRsZUxvZ2luID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGF3YWl0IGxvZ2luKCd0ZXN0dXNlcicsICdwYXNzd29yZCcpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUxvZ2lufT5Mb2dpbjwvYnV0dG9uPjtcblx0XHRcdH07XG5cblx0XHRcdHJlbmRlcihcblx0XHRcdFx0PFRlc3RDb21wb25lbnQ+XG5cdFx0XHRcdFx0PFRlc3RMb2dpbiAvPlxuXHRcdFx0XHQ8L1Rlc3RDb21wb25lbnQ+XG5cdFx0XHQpO1xuXG5cdFx0XHRmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnTG9naW4nKSk7XG5cblx0XHRcdGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuXHRcdFx0XHRleHBlY3QobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3plbml0aFF1aXpNYWtlckFjY2Vzc1Rva2VuJykpLnRvQmUoJ21vY2stYWNjZXNzLXRva2VuJyk7XG5cdFx0XHRcdGV4cGVjdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnemVuaXRoUXVpek1ha2VyUmVmcmVzaFRva2VuJykpLnRvQmUoJ21vY2stcmVmcmVzaC10b2tlbicpO1xuXHRcdFx0XHRleHBlY3QobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJEYXRhJykpLnRvQmUoXG5cdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkoeyBpZDogMSwgdXNlcm5hbWU6ICd0ZXN0dXNlcicgfSlcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0dGVzdCgnc2hvdWxkIGNsZWFyIHRva2VucyBvbiBsb2dvdXQnLCAoKSA9PiB7XG5cdFx0XHQvLyBTZXQgdXAgaW5pdGlhbCB0b2tlbnNcblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6ZW5pdGhRdWl6TWFrZXJBY2Nlc3NUb2tlbicsICd0ZXN0LXRva2VuJyk7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnemVuaXRoUXVpek1ha2VyUmVmcmVzaFRva2VuJywgJ3Rlc3QtcmVmcmVzaCcpO1xuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgJ3tcImlkXCI6IDF9Jyk7XG5cblx0XHRcdGNvbnN0IFRlc3RMb2dvdXQgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHsgbG9nb3V0IH0gPSB1c2VBdXRoKCk7XG5cdFx0XHRcdHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9e2xvZ291dH0+TG9nb3V0PC9idXR0b24+O1xuXHRcdFx0fTtcblxuXHRcdFx0cmVuZGVyKFxuXHRcdFx0XHQ8VGVzdENvbXBvbmVudD5cblx0XHRcdFx0XHQ8VGVzdExvZ291dCAvPlxuXHRcdFx0XHQ8L1Rlc3RDb21wb25lbnQ+XG5cdFx0XHQpO1xuXG5cdFx0XHRmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnTG9nb3V0JykpO1xuXG5cdFx0XHRleHBlY3QobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3plbml0aFF1aXpNYWtlckFjY2Vzc1Rva2VuJykpLnRvQmVOdWxsKCk7XG5cdFx0XHRleHBlY3QobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3plbml0aFF1aXpNYWtlclJlZnJlc2hUb2tlbicpKS50b0JlTnVsbCgpO1xuXHRcdFx0ZXhwZWN0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyRGF0YScpKS50b0JlTnVsbCgpO1xuXHRcdH0pO1xuXG5cdFx0dGVzdCgnc2hvdWxkIGNoZWNrIGlmIHRva2VuIGlzIGV4cGlyZWQnLCAoKSA9PiB7XG5cdFx0XHRjb25zdCBUZXN0VG9rZW5DaGVjayA9ICgpID0+IHtcblx0XHRcdFx0Y29uc3QgeyBpc1Rva2VuRXhwaXJlZCB9ID0gdXNlQXV0aCgpO1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBhIHRva2VuIHRoYXQgZXhwaXJlcyBpbiB0aGUgcGFzdFxuXHRcdFx0XHRjb25zdCBleHBpcmVkVG9rZW4gPVxuXHRcdFx0XHRcdCdleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKbGVIQWlPakUyTXpRMU5qYzROekY5LnNpZ25hdHVyZSc7XG5cblx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0PHNwYW4gZGF0YS10ZXN0aWQ9XCJleHBpcmVkXCI+e2lzVG9rZW5FeHBpcmVkKGV4cGlyZWRUb2tlbikudG9TdHJpbmcoKX08L3NwYW4+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRyZW5kZXIoXG5cdFx0XHRcdDxUZXN0Q29tcG9uZW50PlxuXHRcdFx0XHRcdDxUZXN0VG9rZW5DaGVjayAvPlxuXHRcdFx0XHQ8L1Rlc3RDb21wb25lbnQ+XG5cdFx0XHQpO1xuXG5cdFx0XHRleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdleHBpcmVkJykudGV4dENvbnRlbnQpLnRvQmUoJ3RydWUnKTtcblx0XHR9KTtcblx0fSk7XG5cblx0ZGVzY3JpYmUoJ0FQSSBDYWxscycsICgpID0+IHtcblx0XHR0ZXN0KCdzaG91bGQgY2FsbCBsb2dpbiBBUEkgd2l0aCBjb3JyZWN0IHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBtb2NrTG9naW5SZXNwb25zZSA9IHtcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdGFjY2VzczogJ21vY2stYWNjZXNzLXRva2VuJyxcblx0XHRcdFx0XHRyZWZyZXNoOiAnbW9jay1yZWZyZXNoLXRva2VuJyxcblx0XHRcdFx0XHR1c2VyX2RhdGE6IHsgaWQ6IDEsIHVzZXJuYW1lOiAndGVzdHVzZXInIH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0bW9ja0FQSS5wb3N0Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tMb2dpblJlc3BvbnNlKTtcblxuXHRcdFx0Y29uc3QgVGVzdExvZ2luID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCB7IGxvZ2luIH0gPSB1c2VBdXRoKCk7XG5cblx0XHRcdFx0Y29uc3QgaGFuZGxlTG9naW4gPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0YXdhaXQgbG9naW4oJ3Rlc3R1c2VyJywgJ3Bhc3N3b3JkJyk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIDxidXR0b24gb25DbGljaz17aGFuZGxlTG9naW59PkxvZ2luPC9idXR0b24+O1xuXHRcdFx0fTtcblxuXHRcdFx0cmVuZGVyKFxuXHRcdFx0XHQ8VGVzdENvbXBvbmVudD5cblx0XHRcdFx0XHQ8VGVzdExvZ2luIC8+XG5cdFx0XHRcdDwvVGVzdENvbXBvbmVudD5cblx0XHRcdCk7XG5cblx0XHRcdGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdMb2dpbicpKTtcblxuXHRcdFx0YXdhaXQgd2FpdEZvcigoKSA9PiB7XG5cdFx0XHRcdGV4cGVjdChtb2NrQVBJLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdhcGkvdXNlcnMvbG9naW4vJywge1xuXHRcdFx0XHRcdHVzZXJuYW1lOiAndGVzdHVzZXInLFxuXHRcdFx0XHRcdHBhc3N3b3JkOiAncGFzc3dvcmQnXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHR0ZXN0KCdzaG91bGQgY2FsbCBjcmVhdGVRdWl6IEFQSSB3aXRoIGNvcnJlY3QgZGF0YScsIGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IG1vY2tDcmVhdGVSZXNwb25zZSA9IHtcblx0XHRcdFx0ZGF0YTogeyBxdWl6OiB7IHF1aXpfaWQ6IDEsIHF1aXpfdGl0bGU6ICdUZXN0IFF1aXonIH0gfVxuXHRcdFx0fTtcblxuXHRcdFx0bW9ja0FQSVF1aXp6ZXMucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ3JlYXRlUmVzcG9uc2UpO1xuXG5cdFx0XHRjb25zdCBUZXN0Q3JlYXRlUXVpeiA9ICgpID0+IHtcblx0XHRcdFx0Y29uc3QgeyBjcmVhdGVRdWl6IH0gPSB1c2VBdXRoKCk7XG5cblx0XHRcdFx0Y29uc3QgaGFuZGxlQ3JlYXRlID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHF1aXpEYXRhID0ge1xuXHRcdFx0XHRcdFx0cXVpel90aXRsZTogJ1Rlc3QgUXVpeicsXG5cdFx0XHRcdFx0XHRwdWJsaWM6IGZhbHNlLFxuXHRcdFx0XHRcdFx0cXVlc3Rpb25zOiBbXVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0YXdhaXQgY3JlYXRlUXVpeihxdWl6RGF0YSk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0cmV0dXJuIDxidXR0b24gb25DbGljaz17aGFuZGxlQ3JlYXRlfT5DcmVhdGUgUXVpejwvYnV0dG9uPjtcblx0XHRcdH07XG5cblx0XHRcdHJlbmRlcihcblx0XHRcdFx0PFRlc3RDb21wb25lbnQ+XG5cdFx0XHRcdFx0PFRlc3RDcmVhdGVRdWl6IC8+XG5cdFx0XHRcdDwvVGVzdENvbXBvbmVudD5cblx0XHRcdCk7XG5cblx0XHRcdGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdDcmVhdGUgUXVpeicpKTtcblxuXHRcdFx0YXdhaXQgd2FpdEZvcigoKSA9PiB7XG5cdFx0XHRcdGV4cGVjdChtb2NrQVBJUXVpenplcy5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncXVpei8nLCB7XG5cdFx0XHRcdFx0cXVpel90aXRsZTogJ1Rlc3QgUXVpeicsXG5cdFx0XHRcdFx0cHVibGljOiBmYWxzZSxcblx0XHRcdFx0XHRxdWVzdGlvbnM6IFtdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHR0ZXN0KCdzaG91bGQgY2FsbCB1cGRhdGVRdWl6IEFQSSB3aXRoIGNvcnJlY3QgZGF0YScsIGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IG1vY2tVcGRhdGVSZXNwb25zZSA9IHtcblx0XHRcdFx0ZGF0YTogeyBxdWl6OiB7IHF1aXpfaWQ6IDEsIHF1aXpfdGl0bGU6ICdVcGRhdGVkIFF1aXonIH0gfVxuXHRcdFx0fTtcblxuXHRcdFx0bW9ja0FQSVF1aXp6ZXMucHV0Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVcGRhdGVSZXNwb25zZSk7XG5cblx0XHRcdGNvbnN0IFRlc3RVcGRhdGVRdWl6ID0gKCkgPT4ge1xuXHRcdFx0XHRjb25zdCB7IHVwZGF0ZVF1aXogfSA9IHVzZUF1dGgoKTtcblxuXHRcdFx0XHRjb25zdCBoYW5kbGVVcGRhdGUgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcXVpekRhdGEgPSB7XG5cdFx0XHRcdFx0XHRxdWl6X3RpdGxlOiAnVXBkYXRlZCBRdWl6Jyxcblx0XHRcdFx0XHRcdHB1YmxpYzogdHJ1ZSxcblx0XHRcdFx0XHRcdHF1ZXN0aW9uczogW11cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGF3YWl0IHVwZGF0ZVF1aXooMSwgcXVpekRhdGEpO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHJldHVybiA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVVwZGF0ZX0+VXBkYXRlIFF1aXo8L2J1dHRvbj47XG5cdFx0XHR9O1xuXG5cdFx0XHRyZW5kZXIoXG5cdFx0XHRcdDxUZXN0Q29tcG9uZW50PlxuXHRcdFx0XHRcdDxUZXN0VXBkYXRlUXVpeiAvPlxuXHRcdFx0XHQ8L1Rlc3RDb21wb25lbnQ+XG5cdFx0XHQpO1xuXG5cdFx0XHRmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnVXBkYXRlIFF1aXonKSk7XG5cblx0XHRcdGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuXHRcdFx0XHRleHBlY3QobW9ja0FQSVF1aXp6ZXMucHV0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncXVpei91cGRhdGUvMS8nLCB7XG5cdFx0XHRcdFx0cXVpel90aXRsZTogJ1VwZGF0ZWQgUXVpeicsXG5cdFx0XHRcdFx0cHVibGljOiB0cnVlLFxuXHRcdFx0XHRcdHF1ZXN0aW9uczogW11cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fSk7XG5cblx0ZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuXHRcdHRlc3QoJ3Nob3VsZCBoYW5kbGUgbG9naW4gZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCBtb2NrRXJyb3IgPSBuZXcgRXJyb3IoJ0ludmFsaWQgY3JlZGVudGlhbHMnKTtcblx0XHRcdG1vY2tBUEkucG9zdC5tb2NrUmVqZWN0ZWRWYWx1ZShtb2NrRXJyb3IpO1xuXG5cdFx0XHRjb25zdCBUZXN0TG9naW5FcnJvciA9ICgpID0+IHtcblx0XHRcdFx0Y29uc3QgeyBsb2dpbiB9ID0gdXNlQXV0aCgpO1xuXHRcdFx0XHRjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuXG5cdFx0XHRcdGNvbnN0IGhhbmRsZUxvZ2luID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRhd2FpdCBsb2dpbignd3Jvbmd1c2VyJywgJ3dyb25ncGFzcycpO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdFx0c2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUxvZ2lufT5Mb2dpbjwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0e2Vycm9yICYmIDxzcGFuIGRhdGEtdGVzdGlkPVwiZXJyb3JcIj57ZXJyb3J9PC9zcGFuPn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0KTtcblx0XHRcdH07XG5cblx0XHRcdHJlbmRlcihcblx0XHRcdFx0PFRlc3RDb21wb25lbnQ+XG5cdFx0XHRcdFx0PFRlc3RMb2dpbkVycm9yIC8+XG5cdFx0XHRcdDwvVGVzdENvbXBvbmVudD5cblx0XHRcdCk7XG5cblx0XHRcdGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXh0KCdMb2dpbicpKTtcblxuXHRcdFx0YXdhaXQgd2FpdEZvcigoKSA9PiB7XG5cdFx0XHRcdGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Vycm9yJykudGV4dENvbnRlbnQpLnRvQmUoJ0ludmFsaWQgY3JlZGVudGlhbHMnKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0dGVzdCgnc2hvdWxkIGhhbmRsZSBBUEkgZXJyb3JzIGluIHF1aXogb3BlcmF0aW9ucycsIGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IG1vY2tFcnJvciA9IG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpO1xuXHRcdFx0bW9ja0FQSVF1aXp6ZXMucG9zdC5tb2NrUmVqZWN0ZWRWYWx1ZShtb2NrRXJyb3IpO1xuXG5cdFx0XHRjb25zdCBUZXN0Q3JlYXRlRXJyb3IgPSAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHsgY3JlYXRlUXVpeiB9ID0gdXNlQXV0aCgpO1xuXHRcdFx0XHRjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0LnVzZVN0YXRlKG51bGwpO1xuXG5cdFx0XHRcdGNvbnN0IGhhbmRsZUNyZWF0ZSA9IGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0YXdhaXQgY3JlYXRlUXVpeih7fSk7XG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRzZXRFcnJvcihlcnIubWVzc2FnZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHRcdDxidXR0b24gb25DbGljaz17aGFuZGxlQ3JlYXRlfT5DcmVhdGU8L2J1dHRvbj5cblx0XHRcdFx0XHRcdHtlcnJvciAmJiA8c3BhbiBkYXRhLXRlc3RpZD1cImVycm9yXCI+e2Vycm9yfTwvc3Bhbj59XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRyZW5kZXIoXG5cdFx0XHRcdDxUZXN0Q29tcG9uZW50PlxuXHRcdFx0XHRcdDxUZXN0Q3JlYXRlRXJyb3IgLz5cblx0XHRcdFx0PC9UZXN0Q29tcG9uZW50PlxuXHRcdFx0KTtcblxuXHRcdFx0ZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0NyZWF0ZScpKTtcblxuXHRcdFx0YXdhaXQgd2FpdEZvcigoKSA9PiB7XG5cdFx0XHRcdGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2Vycm9yJykudGV4dENvbnRlbnQpLnRvQmUoJ05ldHdvcmsgZXJyb3InKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztB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